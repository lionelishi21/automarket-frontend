(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9327"],{"8d05":function(s,a,e){"use strict";e.r(a);var r=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("main",{attrs:{id:"content",role:"main"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.loading,expression:"loading"}],staticClass:"page-preloader",attrs:{id:"jsPreloader"}},[s._m(0)]),e("div",{staticClass:"bg-light mb-10"},[e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row align-items-sm-center"},[s._m(1),e("div",{staticClass:"col-sm-6"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb breadcrumb-no-gutter justify-content-sm-end mb-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{tag:"a",to:"/"}},[s._v("Home")])],1),s._m(2)])])])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"}),e("div",{staticClass:"col-md-6"},[e("form",{on:{submit:function(a){return a.preventDefault(),s.register(s.user)}}},[s._m(3),e("validation-error",{attrs:{errors:s.validationErrors}}),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrEmail"}},[s._v("Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"signinSrEmail",placeholder:"Full name"},domProps:{value:s.user.name},on:{input:function(a){a.target.composing||s.$set(s.user,"name",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.name)+" ")])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrEmail"}},[s._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"username",name:"username",id:"signinSrEmail",placeholder:"Enter Username","aria-label":"Username","data-msg":"Please enter a valid email address.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.username},on:{input:function(a){a.target.composing||s.$set(s.user,"username",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.username)+" ")])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrEmail"}},[s._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"signinSrEmail",placeholder:"Email address","aria-label":"Email address","data-msg":"Please enter a valid email address.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.email},on:{input:function(a){a.target.composing||s.$set(s.user,"email",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.email)+" ")])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrEmail"}},[s._v("Phone Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"phone_number",name:"phone_number",id:"signinSrEmail",placeholder:"Mobile Phone Number","aria-label":"Email address","data-msg":"Please enter a valid email address.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.phone},on:{input:function(a){a.target.composing||s.$set(s.user,"phone",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.phone)+" ")])]),e("div",{staticClass:"form-group",class:{"u-has-error":s.parishIsInvalid,"u-has-success":!s.parishIsInvalid}},[s._m(4),e("div",{staticClass:"input-group"},[s._m(5),e("select",{directives:[{name:"model",rawName:"v-model",value:s.user.parish,expression:"user.parish"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(s){return s.selected})).map((function(s){var a="_value"in s?s._value:s.value;return a}));s.$set(s.user,"parish",a.target.multiple?e:e[0])}}},s._l(s.parishes,(function(a){return e("option",{domProps:{value:a.name}},[s._v(s._s(a.name))])})),0)])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrEmail"}},[s._v("Location")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.location,expression:"user.location"}],staticClass:"form-control",attrs:{type:"address",name:"address",placeholder:"A","aria-label":"Email address","data-msg":"Please enter a valid email address.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.location},on:{input:function(a){a.target.composing||s.$set(s.user,"location",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.address)+" ")])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrPassword"}},[s._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"signinSrPassword",placeholder:"********","aria-label":"********","data-msg":"Your password is invalid. Please try again.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.password},on:{input:function(a){a.target.composing||s.$set(s.user,"password",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.password)+" ")])]),e("div",{staticClass:"js-form-message form-group"},[e("label",{staticClass:"form-label",attrs:{for:"signinSrConfirmPassword"}},[s._v("Confirm password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password_confimation,expression:"user.password_confimation"}],staticClass:"form-control",attrs:{type:"password",name:"confirmPassword",id:"signinSrConfirmPassword",placeholder:"********","aria-label":"********","data-msg":"Password does not match the confirm password.","data-error-class":"u-has-error","data-success-class":"u-has-success"},domProps:{value:s.user.password_confimation},on:{input:function(a){a.target.composing||s.$set(s.user,"password_confimation",a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.errors.password_confimation)+" ")])]),e("div",{staticClass:"row align-items-center mb-5"},[e("div",{staticClass:"col-5 col-sm-6"},[e("span",{staticClass:"small text-muted"},[s._v("Already have an account?")]),e("router-link",{staticClass:"small",attrs:{to:"/signin",tag:"a"}},[s._v(" Login")])],1),s._m(6)])],1)]),e("div",{staticClass:"col-md-3"})])])])},t=[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"page-preloader__content-centered"},[e("div",{staticClass:"spinner-grow text-primary",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[s._v("Loading...")])])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"col-sm-6 mb-3 mb-sm-0"},[e("h1",{staticClass:"h4 mb-0"},[s._v("Register")])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"#"}},[s._v("Register")])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"mb-7"},[e("h1",{staticClass:"h3 text-primary font-weight-normal mb-0"},[s._v("Welcome to "),e("span",{staticClass:"font-weight-semi-bold"},[s._v("AutoMarketJM")])]),e("p",[s._v("Fill out the form to get started.")])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("label",{staticClass:"form-label"},[s._v("Parish "),e("span",{staticClass:"text-danger"},[s._v("*")])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("span",{staticClass:"fas fa-map"})])])},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"col-7 col-sm-6 text-right"},[e("button",{staticClass:"btn btn-primary transition-3d-hover",attrs:{type:"submit"}},[s._v("Sign up")])])}],i=e("aeba"),n={components:{ValidationError:i["a"]},data:function(){return{loading:!1,user:{name:null,email:null,password:null,username:null,phone:null,type:3,location:null,password_confimation:null,referral_id:""},parishes:[{name:"Kingston"},{name:"St. Andrew"},{name:"Portland"},{name:"St.Thomas"},{name:"St. Catherine"},{name:"St. Mary"},{name:"St. Mary"},{name:"St. Ann"},{name:"Manchester"},{name:"Clarendon"},{name:"Hanover"},{name:"Westmoreland"},{name:"St. James"},{name:"Trelawny"},{name:"St. Elizabeth"}],validationErrors:"",errors:{name:[],email:[],password:[],password_confimation:[]}}},created:function(){void 0!=this.$route.query.referral_id&&(this.user.referral_id=this.$route.query.referral_id)},computed:{parishIsInvalid:function(){return!this.user.parish}},methods:{resetUser:function(){this.user={name:null,email:null,password:null,password_confirmation:null}},register:function(s){var a=this;console.log(s),this.validationErrors="",this.loading=!0,s.type=3,this.$store.dispatch("AUTH_REGISTER",s).then((function(s){console.log(s),a.resetUser();var e=a;setTimeout((function(){s.data.message;e.loading=!1,e.$router.push("/signin?user=registered")}),500)})).catch((function(s){a.loading=!1,console.log(s.response.data);s.response.data.errors;422==s.response.status&&(a.validationErrors=s.response.data.errors)}))}}},o=n,l=e("2877"),m=Object(l["a"])(o,r,t,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0e9327.15eee405.js.map