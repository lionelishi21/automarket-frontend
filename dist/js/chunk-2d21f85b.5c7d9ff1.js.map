{"version":3,"sources":["webpack:///./src/views/Sign/user.vue?21f0","webpack:///src/views/Sign/user.vue","webpack:///./src/views/Sign/user.vue?ab3f","webpack:///./src/views/Sign/user.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","login","user","_m","directives","name","rawName","value","expression","attrs","_v","class","is_valid","domProps","target","composing","$set","_s","error","message","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d21f85b.5c7d9ff1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container space-2\"},[_c('form',{staticClass:\"js-validate w-md-75 w-lg-50 mx-md-auto\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login(_vm.user)}}},[_vm._m(0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.successMsg),expression:\"successMsg\"}],staticClass:\"alert alert-success\",attrs:{\"role\":\"alert\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"Well done!\")]),_c('p',{staticClass:\"alert-text\"},[_vm._v(\"Thank you for registering.\")]),_c('p',{staticClass:\"alert-text mb-0\"},[_vm._v(\"Check your email for verification.\")])]),_c('div',{staticClass:\"js-form-message form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",class:_vm.is_valid,attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"signinSrEmailExample1\",\"placeholder\":\"Email address\",\"aria-label\":\"Email address\",\"data-msg\":\"Please enter a valid email address.\",\"data-error-class\":\"u-has-error\",\"data-success-class\":\"u-has-success\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" \"+_vm._s(_vm.error.message['error'])+\" \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\" resend verification code\")])])]),_c('div',{staticClass:\"js-form-message form-group\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",class:_vm.is_valid,attrs:{\"type\":\"password\",\"name\":\"password\",\"id\":\"signinSrPassword\",\"placeholder\":\"********\",\"aria-label\":\"********\",\"data-msg\":\"Your password is invalid. Please try again.\",\"data-error-class\":\"u-has-error\",\"data-success-class\":\"u-has-success\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"row align-items-center mb-5\"},[_c('div',{staticClass:\"col-6\"},[_c('span',{staticClass:\"small text-muted\"},[_vm._v(\"Don't have an account?\")]),_c('router-link',{attrs:{\"to\":\"/user-onboarding\",\"tag\":\"a\"}},[_vm._v(\"signup\")])],1),_vm._m(2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-7\"},[_c('h2',{staticClass:\"h3 text-primary font-weight-normal mb-0\"},[_vm._v(\"Welcome \"),_c('span',{staticClass:\"font-weight-semi-bold\"},[_vm._v(\"back\")])]),_c('p',[_vm._v(\"Login to manage your account.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form-label\",attrs:{\"for\":\"signinSrPassword\"}},[_c('span',{staticClass:\"d-flex justify-content-between align-items-center\"},[_vm._v(\" Password \"),_c('a',{staticClass:\"link-muted text-capitalize font-weight-normal\",attrs:{\"href\":\"recover-account-simple.html\"}},[_vm._v(\"Forgot Password?\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-6 text-right\"},[_c('button',{staticClass:\"btn btn-primary transition-3d-hover\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Login\")])])}]\n\nexport { render, staticRenderFns }","<template>\n\n  <!-- ========== MAIN ========== -->\n    <!-- Login Form -->\n    <div class=\"container space-2\">\n      <form class=\"js-validate w-md-75 w-lg-50 mx-md-auto\" @submit.prevent=\"login(user)\">\n        <!-- Title -->\n        <div class=\"mb-7\">\n          <h2 class=\"h3 text-primary font-weight-normal mb-0\">Welcome <span class=\"font-weight-semi-bold\">back</span></h2>\n          <p>Login to manage your account.</p>\n        </div>\n        <!-- End Title -->\n\n        <div class=\"alert alert-success\" role=\"alert\" v-show=\"successMsg\">\n          <h4 class=\"alert-heading\">Well done!</h4>\n          <p class=\"alert-text\">Thank you for registering.</p>\n          <p class=\"alert-text mb-0\">Check your email for verification.</p>\n        </div>\n        <!-- Form Group -->\n         <div class=\"js-form-message form-group\">\n          <input \n                 type=\"email\" \n                 :class=\"is_valid\"\n                 class=\"form-control\"\n                 v-model=\"user.email\" name=\"email\" id=\"signinSrEmailExample1\" placeholder=\"Email address\" aria-label=\"Email address\" \n                 data-msg=\"Please enter a valid email address.\"\n                 data-error-class=\"u-has-error\"\n                 data-success-class=\"u-has-success\" required>\n              \n                 <div class=\"invalid-feedback\">\n                    {{error.message['error']}}\n                    <a href=\"#\"> resend verification code</a>\n                 </div>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Form Group -->\n        <div class=\"js-form-message form-group\">\n          <label class=\"form-label\" for=\"signinSrPassword\">\n            <span class=\"d-flex justify-content-between align-items-center\">\n              Password\n              <a class=\"link-muted text-capitalize font-weight-normal\" href=\"recover-account-simple.html\">Forgot Password?</a>\n            </span>\n          </label>\n          <input type=\"password\" :class=\"is_valid\" class=\"form-control\" name=\"password\" id=\"signinSrPassword\" placeholder=\"********\" aria-label=\"********\" \n                 data-msg=\"Your password is invalid. Please try again.\"\n                 data-error-class=\"u-has-error\"\n                 v-model=\"user.password\"\n                 data-success-class=\"u-has-success\" required>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Button -->\n        <div class=\"row align-items-center mb-5\">\n          <div class=\"col-6\">\n            <span class=\"small text-muted\">Don't have an account?</span>\n               <router-link to=\"/user-onboarding\" tag=\"a\">signup</router-link>\n          </div>\n\n          <div class=\"col-6 text-right\">\n            <button type=\"submit\" class=\"btn btn-primary transition-3d-hover\">Login</button>\n          </div>\n        </div>\n        <!-- End Button -->\n      </form>\n    </div>\n    <!-- End Login Form -->\n</template>\n<script>\nimport { Plugins } from \"@capacitor/core\";\nconst { PushNotifications } = Plugins;\n \n//\n// with type support\nimport { FCM } from \"capacitor-fcm\";\nconst fcm = new FCM();\n \n//\n// alternatively - without types\nconst { FCMPlugin } = Plugins;\n \n\nexport default {\n    data() {\n    \treturn {\n    \t\tuser: {\n    \t\t\temail: '',\n    \t\t\tpassword: '',\n          fcmToken: '',\n    \t\t},\n        successMsg: false,\n        validationErr: '',\n        is_valid: '',\n        error: {\n          message: ''\n        }\n    \t}\n    },\n    created() {\n\n      this.successMsg = false\n      if (this.$route.query.user != undefined ) {\n         this.successMsg = true\n      }\n\n    },\n    mounted() {\n      // initialization of form validation\n      $.HSCore.components.HSValidation.init('.js-validate');\n    },\n    methods: {\n      login( user) {\n\n        this.is_valid = ''\n        this.error.message = ''\n\n        this.$store.dispatch('login', user)\n          .then( response => {\n           \n            console.log(response)\n            console.log('getting user..')\n             \n             this.$store.dispatch('getCurrentUser')\n               .then( resp => {\n                 this.$router.push('/')\n               }).catch( err => {\n                  console.log( err.response)\n               })\n               \n          })\n          .catch( error => {\n             console.log(error.response)\n             let errorMessage = error.response.data.message\n             this.is_valid = 'is-invalid'\n             this.error.message = error.response.data\n          })\n      },\n      getUserToken() {\n         PushNotifications.register()\n          .then(() => {\n\n            fcm\n               .getToken()\n               .then(r => {\n                  alert(`Token ${r.token}`)\n                  this.user.fcmToken = r.token\n               })\n               .catch( err => console.log(err));\n         })\n      },\n\n    }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=c9222b8a&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}