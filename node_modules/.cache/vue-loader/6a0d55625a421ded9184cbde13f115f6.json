{"remainingRequest":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lionelfrancis/development/frontend/carmarket/src/views/Seller/checkout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lionelfrancis/development/frontend/carmarket/src/views/Seller/checkout.vue","mtime":1590418557196},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js","mtime":1583532513681},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXlQYWwgZnJvbSAndnVlLXBheXBhbC1jaGVja291dCcKaW1wb3J0IGJyYWludHJlZSBmcm9tICdicmFpbnRyZWUtd2ViJwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IFN0cmlwZUNoZWNrb3V0IH0gZnJvbSAndnVlLXN0cmlwZS1jaGVja291dCc7CgpleHBvcnQgZGVmYXVsdCB7CmNvbXBvbmVudHM6IHsKICBQYXlQYWwsCiAgIFN0cmlwZUNoZWNrb3V0Cn0sCmRhdGEoKSB7CglyZXR1cm4gewogIAkJaXNDb21wbGV0ZWQ6IGZhbHNlLAogIAkJaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgY3JlZGl0Y2FyZF9tZXRob2Q6IGZhbHNlLAogIAkJcGF5bWVudG1ldGhvZDogJ2NhcmQnLAogICAgICAgYnJhaW50cmVlU2RrOiBicmFpbnRyZWUsCiAgICAgIGV4cGVyaWVuY2U6IHsKICAgICAgICBpbnB1dF9maWVsZHM6IHsKICAgICAgICAgIG5vX3NoaXBwaW5nOiAxLAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIG15U3R5bGU6IHsKICAgICAgICAgIGxhYmVsOiAnY2hlY2tvdXQnLAogICAgICAgICAgc2l6ZTogICdyZXNwb25zaXZlJywKICAgICAgICAgIHNoYXBlOiAncmVjdCcsCiAgICAgICAgICBjb2xvcjogJ2JsYWNrJwogICAgICB9LAogICAgCXBheXBhbDogewogICAgICAgIHNhbmRib3g6ICdBYlVNbXNUNEpKU0NVZzg2TVA0U1YxLWlBM2pqQ3RQWXBxa3JWM3hyVTJackFaMTdGa0ZIQV9BdUkyTFZlMnhodS1uWUJaQjVlektOMlk5eicsCiAgICAgICAgcHJvZHVjdGlvbjogJ0FWWmhvc0Z6cm5aNU1mM3RpT3hBRDBNNk5IdjhwY0IySUZOSEFmcF9oNjltbWJkLUxFbEZZa0pVU0lJM1kwRlBibTdTN2x4QnVxV0ltTGJsJwogICAgCX0sCiAgICAgIHB1Ymxpc2hhYmxlS2V5OiAncGtfdGVzdF9ZZmU4VjU4RjNLdzhhWlVXcUx0WHFObmwwMEJ2N2VYRDdQJywKICAgICAgaXRlbXM6IFsKICAgICAgICB7CiAgICAgICAgICBza3U6ICdza190ZXN0X1loYTRGNG1BaHZHZnN2WlN2dkNEZ2JCeTAwbk1MTEFoa0onLAogICAgICAgICAgcXVhbnRpdHk6IDEKICAgICAgICB9CiAgICAgIF0sCiAgICAgIHN1Y2Nlc3NVcmw6ICdodHRwOi8vd29ya2luZycsCiAgICAgIGNhbmNlbFVybDogJ2h0dHA6Ly93b3JraW5nJywKICAgICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAJLi4ubWFwR2V0dGVycyhbCiAgCQknQ2FyRGV0YWlscycsCiAgCQknZ2V0UGxhbkRldGFpbHMnCiAgCV0pCiAgfSwKICBjcmVhdGVkKCkgewoJIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdQTEFOX0RFVEFJTFMnLCB0aGlzLiRyb3V0ZS5wYXJhbXMucGxhbikKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrb3V0c3RyaXBlICgpIHsKICAgICAgIHRoaXMuJHJlZnMuY2hlY2tvdXRSZWYucmVkaXJlY3RUb0NoZWNrb3V0KCk7CiAgICB9LAogICAgcGF5bWVudEF1dGhvcml6ZWQ6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgfSwKICAgIHBheW1lbnRDb21wbGV0ZWQ6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICBpZiAoZGF0YVsnc3RhdGUnXSA9PSAnYXBwcm92ZWQnKSB7CgogICAgICAgIGxldCBkZXRhaWxzID0gewogICAgICAgICAgcGxhbl9pZDogdGhpcy5nZXRQbGFuRGV0YWlscy5pZAogICAgICAgIH0KCgogICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXltZW50cycsIGRhdGEpCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjYXInLCBKU09OLnN0cmluZ2lmeShkZXRhaWxzKSkKCiAgICAgICAgICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgnbWFpbicsIEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGEubWFpbikpOwoKICAgICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSkKICAgICAgICBsZXQgZm9ybSA9IHsKICAgICAgICAgIHBheW1lbnRzOiBkYXRhLAogICAgICAgICAgY2FyOiBkZXRhaWxzCiAgICAgICAgfQoKICAgICAgICBsZXQgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJykKICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47CgoKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQlVZX0NSRURJVCcsIGZvcm0pCiAgICAgICAgICAudGhlbiggcmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgLy8gQWxlcnQgbWVzc2FnZSBtdXN0IGdvZXMgaGVyZQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgIAkJCQl2YXIgc2VsZiA9IHRoaXMKICAgICAgIAkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgCQkJCQkvLyBzZWxmLmlzQ29tcGxldGVkID0gdHJ1ZQogICAgICAgCQkJCX0sIDEwMDApCiAgICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHBheW1lbnRDYW5jZWxsZWQ6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgfSwKICAgIHBsYWNlb3JkZXIoKSB7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGxldCBjaGVja291dCA9IHsKICAgICAgICBjYXJfaWQ6IHRoaXMuQ2FyRGV0YWlscy5pZCwKICAgICAgICBwbGFuX2lkOiB0aGlzLmdldFBsYW5EZXRhaWxzLmlkCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBheW1lbnRtZXRob2QgPT0gJ2NhcmQnKXsKICAgICAgICAvLyBkbyBzb21ldGhpbmcgZWxzZQogICAgICB9CiAgICAgIGlmICh0aGlzLnBheW1lbnRtZXRob2QgPT0gJ3BheXBhbCcpIHsKICAgICAgICBjb25zb2xlLmxvZyhjaGVja291dCkKCiAgICAgICAgbGV0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpCiAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRva2VuOwoKICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzE4LjIwNi4yMzAuMjAyL2FwaS8vYXBpL3BheW1lbnQnLCBjaGVja291dCkKICAgICAgICAgIC50aGVuICggcmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHJlcy5kYXRhLnBheXBhbF9saW5rCiAgICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGdvVG9QcmljaW5nKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2NyZWRpdHMnKQogICAgfSwKICAJY2hlY2tvdXQoY2FyX2lkLCBwbGFuX2lkKSB7CiAgCQl0aGlzLmlzTG9hZGluZyA9IHRydWUKICAJCWxldCBjaGVja291dCA9IHsKICAJCQljYXJfaWQ6IGNhcl9pZCwKICAJCQlwbGFuX2lkOiBwbGFuX2lkCiAgCQl9CgoJCWF4aW9zLnBvc3QoJ2h0dHA6Ly8xOC4yMDYuMjMwLjIwMi9hcGkvL2FwaS9zdWJzY3JpcHRpb25zL2NyZWF0ZScsIGNoZWNrb3V0KQoJCQkudGhlbihyZXNwb25zZSA9PiB7CgkJCQljb25zb2xlLmxvZyhyZXNwb25zZSkKCQkJCXRoaXMuaXNMb2FkaW5nID0gZmFsc2UKCgkJCQl2YXIgc2VsZiA9IHRoaXMKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJLy8gc2VsZi5pc0NvbXBsZXRlZCA9IHRydWUKCQkJCX0sIDEwMDApCgkJCX0sIGVycm9yID0+IHsKCQkJCWNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQoJCQl9KQogIAkJfQogIAl9Cn0K"},{"version":3,"sources":["checkout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"checkout.vue","sourceRoot":"src/views/Seller","sourcesContent":["<template>\n  <!-- ========== MAIN CONTENT ========== -->\n  <main id=\"content\" role=\"main\">\n\n   \t    <!-- Cart Section -->\n    <div class=\"container space-2 space-lg-3\" v-if=\"isCompleted\">\n      <div class=\"w-md-80 w-lg-50 text-center mx-md-auto\">\n        <figure id=\"iconChecked\" class=\"ie-height-90 max-width-11 mx-auto mb-3\">\n          <img class=\"js-svg-injector\" src=\"@/assets/svg/components/checked-icon.svg\" alt=\"SVG\"\n               data-parent=\"#iconChecked\">\n        </figure>\n        <div class=\"mb-5\">\n          <h1 class=\"h3 font-weight-medium\">Your order is completed!</h1>\n          <p>Thank you for your order! your order is completed.</p>\n        </div>\n        <router-link to=\"/cars\" class=\"btn btn-primary btn-pill transition-3d-hover px-5\" href=\"classic.html\">Continue Browsing</router-link>\n      </div>\n    </div>\n    <!-- End Cart Section -->\n\n\n    <!-- Checkout Section -->\n    <div class=\"container\" v-else style=\"height: 100vh;\">\n\n        <div class=\"row\">\n                    strip\n                      <stripe-checkout\n                        ref=\"checkoutRef\"\n                        :pk=\"publishableKey\"\n                        :items=\"items\"\n                        :successUrl=\"successUrl\"\n                        :cancelUrl=\"cancelUrl\"\n                      >\n                        <template slot=\"checkout-button\">\n                          <button @click=\"checkout\">Shutup and take my money!</button>\n                        </template>\n                      </stripe-checkout>\n                </div>qew\n      <!-- <div class=\"row\">\n        <div class=\"col-md-6 p-10\">\n          <!-- Item -->\n              <div class=\"content-centered p-3 mb-0\">\n              <div class=\"mb-5\">\n                <i class=\"fa fa-arrow-left\"></i>\n                <a href=\"#\" @click.prevent=\"goToPricing\"> Back</a>\n              </div>\n              <!-- Name -->\n                <div class=\"mb-5\">\n                    <h5 class=\"h6\">\n                      <a href=\"property-description.html\"></a>\n                    </h5>\n                    <h2> \n\n                         {{getPlanDetails}}\n                      <b>{{getPlanDetails.cost}} JMD</b>\n                    </h2>\n                </div>\n                <!-- End Name -->\n                <div class=\"mb-1 mt-10\">\n                  <div class=\"card shadow-lg text-center mt-10\">\n                   <h1 class=\"pt-5\">{{getPlanDetails.credit}}<br> <small>Credit(s)</small> </h1> \n                  <!-- <img class=\"card-img-top\" :src=\"''http://18.206.230.202/api//storage/thumbnail/'+CarDetails.image\"> -->\n                  </div>\n                </div>\n               \n              </div>\n            <!-- End Car Item -->\n        </div>\n        <div class=\"col-md-6 shadow\" style=\"height: 100vh;\">\n          <div class=\"row\">\n              <div class=\"p-5\" style=\"margin-top: 20%;\">\n\n                \n                  <!-- TODO add invoice id -->\n                 <button type=\"button\" class=\"btn btn-dark btn-block mb-1\">GPay</button>\n                  <PayPal\n                     currency=\"USD\"\n                     env=\"sandbox\"\n                     :button-style=\"myStyle\"\n                     :amount=\"getPlanDetails.price\"\n                     :client=\"paypal\"\n                     :experience=\"experience\"\n                     v-on:payment-authorized=\"paymentAuthorized\"\n                     v-on:payment-completed=\"paymentCompleted\"\n                     v-on:payment-cancelled=\"paymentCancelled\">\n\n                  </PayPal>\n\n                <div class=\"text-center mt-2\">\n                    <span class=\"divider divider-xs divider-text\">Bank Deposite/Transfer</span>\n                </div>\n                \n                 <div class=\"text-center mt-2\">\n                    <span class=\"divider divider-xs divider-text\">Or pay with card</span>\n                </div>\n\n               <!-- Input Group -->\n                    <div class=\"form-row mt-10\">\n                     \n                       <div class=\"col-md-12\">\n                         <label>Card informaton</label>\n                         <div class=\"input-group input-group-sm\">\n                           <input class=\"form-control\" type=\"number\" name=\"cardNumber\" placeholder=\"1234 1234 1234 1234\">\n                         </div>\n                       </div> \n                       <div class=\"col-md-6\">\n                           <div class=\"input-group input-group-sm\">\n                             <input class=\"form-control\" type=\"number\" name=\"cardNumber\" placeholder=\"MM / YY\" aria-label=\"Card number\" aria-describedby=\"cardNumberLabel\">\n                           </div>\n                       </div>\n                      <div class=\"col-md-6\">\n                         <div class=\"input-group input-group-sm\">\n                           <input class=\"form-control\" type=\"number\" name=\"cardNumber\" placeholder=\"CVC\" aria-label=\"Card number\" aria-describedby=\"cardNumberLabel\">\n                         </div>\n                      </div>\n\n                      <div class=\"col-md-12 mt-5\">\n                         <label><small>Name on card</small></label>\n                         <div class=\"input-group input-group-sm\">\n                           <input class=\"form-control\" type=\"text\" name=\"cardNumber\">\n                         </div>\n                      </div>\n\n                      <button type=\"button\" class=\"btn btn-dark btn-block mt-10\">Pay {{getPlanDetails.cost}} JMD </button>\n                 </div>\n                 <div class=\"form-row\">\n\n                </div>\n              </div>\n            </div>\n        </div>\n      </div> -->\n    </div>\n    <!-- End Checkout Section -->\n  </main>\n  <!-- ========== END MAIN CONTENT ========== -->\n</template>\n<script>\nimport PayPal from 'vue-paypal-checkout'\nimport braintree from 'braintree-web'\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nimport { StripeCheckout } from 'vue-stripe-checkout';\n\nexport default {\ncomponents: {\n  PayPal,\n   StripeCheckout\n},\ndata() {\n\treturn {\n  \t\tisCompleted: false,\n  \t\tisLoading: false,\n      creditcard_method: false,\n  \t\tpaymentmethod: 'card',\n       braintreeSdk: braintree,\n      experience: {\n        input_fields: {\n          no_shipping: 1,\n        },\n      },\n      myStyle: {\n          label: 'checkout',\n          size:  'responsive',\n          shape: 'rect',\n          color: 'black'\n      },\n    \tpaypal: {\n        sandbox: 'AbUMmsT4JJSCUg86MP4SV1-iA3jjCtPYpqkrV3xrU2ZrAZ17FkFHA_AuI2LVe2xhu-nYBZB5ezKN2Y9z',\n        production: 'AVZhosFzrnZ5Mf3tiOxAD0M6NHv8pcB2IFNHAfp_h69mmbd-LElFYkJUSII3Y0FPbm7S7lxBuqWImLbl'\n    \t},\n      publishableKey: 'pk_test_Yfe8V58F3Kw8aZUWqLtXqNnl00Bv7eXD7P',\n      items: [\n        {\n          sku: 'sk_test_Yha4F4mAhvGfsvZSvvCDgbBy00nMLLAhkJ',\n          quantity: 1\n        }\n      ],\n      successUrl: 'http://working',\n      cancelUrl: 'http://working',\n      }\n  },\n  computed: {\n  \t...mapGetters([\n  \t\t'CarDetails',\n  \t\t'getPlanDetails'\n  \t])\n  },\n  created() {\n\t this.$store.dispatch('PLAN_DETAILS', this.$route.params.plan)\n  },\n  methods: {\n    checkoutstripe () {\n       this.$refs.checkoutRef.redirectToCheckout();\n    },\n    paymentAuthorized: function (data) {\n      // console.log(data);\n    },\n    paymentCompleted: function (data) {\n     \n      this.isLoading = true;\n      console.log(data);\n\n      if (data['state'] == 'approved') {\n\n        let details = {\n          plan_id: this.getPlanDetails.id\n        }\n\n\n        let formData = new FormData()\n        formData.append('payments', data)\n        formData.append('car', JSON.stringify(details))\n\n               // formData.append('main', JSON.stringify(this.formData.main));\n\n        console.log(formData)\n        let form = {\n          payments: data,\n          car: details\n        }\n\n        let token = localStorage.getItem('access_token')\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n\n        this.$store.dispatch('BUY_CREDIT', form)\n          .then( res => {\n            console.log(res)\n             // Alert message must goes here\n              this.isLoading = false\n       \t\t\t\tvar self = this\n       \t\t\t\tsetTimeout(function() {\n       \t\t\t\t\t// self.isCompleted = true\n       \t\t\t\t}, 1000)\n          }, error => {\n            console.log(error.response)\n          })\n      }\n    },\n    paymentCancelled: function (data) {\n      // console.log(data);\n    },\n    placeorder() {\n\n      this.isLoading = true;\n      let checkout = {\n        car_id: this.CarDetails.id,\n        plan_id: this.getPlanDetails.id\n      }\n\n      if (this.paymentmethod == 'card'){\n        // do something else\n      }\n      if (this.paymentmethod == 'paypal') {\n        console.log(checkout)\n\n        let token = localStorage.getItem('access_token')\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n         axios.post('http://18.206.230.202/api//api/payment', checkout)\n          .then ( res => {\n            console.log(res)\n            this.isLoading = false\n            window.location = res.data.paypal_link\n          }, error => {\n            console.log(error.response)\n          })\n      }\n    },\n    goToPricing() {\n      this.$router.push('/credits')\n    },\n  \tcheckout(car_id, plan_id) {\n  \t\tthis.isLoading = true\n  \t\tlet checkout = {\n  \t\t\tcar_id: car_id,\n  \t\t\tplan_id: plan_id\n  \t\t}\n\n\t\taxios.post('http://18.206.230.202/api//api/subscriptions/create', checkout)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log(response)\n\t\t\t\tthis.isLoading = false\n\n\t\t\t\tvar self = this\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t// self.isCompleted = true\n\t\t\t\t}, 1000)\n\t\t\t}, error => {\n\t\t\t\tconsole.log(error.response)\n\t\t\t})\n  \t\t}\n  \t}\n}\n</script>\n"]}]}