{"remainingRequest":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-location-picker/src/LocationPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-location-picker/src/LocationPicker.vue","mtime":1461010775000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbmZvV2luZG93IGZyb20gJy4vSW5mb1dpbmRvdy52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHBsYWNlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgdHdvV2F5OiB0cnVlCiAgICB9CiAgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBnZW9jb2RlcjogbnVsbCwKICAgICAgbWFwOiBudWxsLAogICAgICBtYXJrZXI6IG51bGwsCiAgICAgIGluZm9XaW5kb3c6IG51bGwsCiAgICAgIGF1dG9jb21wbGV0ZTogbnVsbAogICAgfQogIH0sCgogIGNvbXBvbmVudHM6IHsgSW5mb1dpbmRvdyB9LAoKICBldmVudHM6IHsKICAgICdsb2NhdGlvbi1waWNrZXItaW5pdCcgKG9wdGlvbnMpIHsKICAgICAgdGhpcy5nZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpCgogICAgICB0aGlzLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAodGhpcy4kZWxzLm1hcCwgT2JqZWN0LmFzc2lnbih7CiAgICAgICAgY2VudGVyOiB7IGxhdDogMCwgbG5nOiAwIH0sCiAgICAgICAgem9vbTogMywKICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlCiAgICAgIH0sIG9wdGlvbnMubWFwKSkKCiAgICAgIHRoaXMubWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcihPYmplY3QuYXNzaWduKHsKICAgICAgICBtYXA6IHRoaXMubWFwLAogICAgICAgIHBvc2l0aW9uOiB0aGlzLm1hcC5nZXRDZW50ZXIoKSwKICAgICAgICBkcmFnZ2FibGU6IHRydWUKICAgICAgfSwgb3B0aW9ucy5tYXJrZXIpKQoKICAgICAgdGhpcy5pbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coT2JqZWN0LmFzc2lnbih7CiAgICAgICAgY29udGVudDogdGhpcy4kcmVmcy5pbmZvLiRlbAogICAgICB9LCBvcHRpb25zLmluZm9XaW5kb3cpKQoKICAgICAgdGhpcy5hdXRvY29tcGxldGUgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLkF1dG9jb21wbGV0ZSh0aGlzLiRlbHMuaW5wdXQsIE9iamVjdC5hc3NpZ24oewogICAgICAgIHR5cGVzOiBbJ2dlb2NvZGUnXQogICAgICB9LCBvcHRpb25zLmF1dG9jb21wbGV0ZSkpCiAgICAgIHRoaXMubWFwLmNvbnRyb2xzW2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5UT1BfTEVGVF0ucHVzaCh0aGlzLiRlbHMuaW5wdXQpCgogICAgICAvLyBldmVudHMKICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXJPbmNlKHRoaXMubWFwLCAnaWRsZScsIHRoaXMub3BlbkluZm9XaW5kb3cpCiAgICAgIHRoaXMubWFya2VyLmFkZExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmNsb3NlSW5mb1dpbmRvdykKICAgICAgdGhpcy5tYXJrZXIuYWRkTGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmdlb2NvZGVMb2NhdGlvbikKICAgICAgdGhpcy5hdXRvY29tcGxldGUuYWRkTGlzdGVuZXIoJ3BsYWNlX2NoYW5nZWQnLCB0aGlzLm1vdmVNYXJrZXIpCiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgb3BlbkluZm9XaW5kb3cgKCkgewogICAgICB0aGlzLmluZm9XaW5kb3cub3Blbih0aGlzLm1hcCwgdGhpcy5tYXJrZXIpCiAgICB9LAoKICAgIGNsb3NlSW5mb1dpbmRvdyAoKSB7CiAgICAgIHRoaXMuaW5mb1dpbmRvdy5jbG9zZSgpCiAgICB9LAoKICAgIGdlb2NvZGVMb2NhdGlvbiAoZSkgewogICAgICB0aGlzLm1hcC5wYW5UbyhlLmxhdExuZykKICAgICAgdGhpcy4kZWxzLmlucHV0LnZhbHVlID0gJycKCiAgICAgIHRoaXMuZ2VvY29kZXIuZ2VvY29kZSh7J2xhdExuZyc6IGUubGF0TG5nfSwgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMucGxhY2UgPSByZXNwb25zZVswXQogICAgICAgICAgdGhpcy4kcmVmcy5pbmZvLnNob3dBZGRyZXNzKHRoaXMucGxhY2UpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucGxhY2UgPSBudWxsCiAgICAgICAgICB0aGlzLiRyZWZzLmluZm8uc2hvd0Vycm9yKCkKICAgICAgICB9CgogICAgICAgIHRoaXMub3BlbkluZm9XaW5kb3coKQogICAgICB9KQogICAgfSwKCiAgICBtb3ZlTWFya2VyICgpIHsKICAgICAgdmFyIHBsYWNlID0gdGhpcy5hdXRvY29tcGxldGUuZ2V0UGxhY2UoKQogICAgICB2YXIgbG9jYXRpb24gPSBwbGFjZS5nZW9tZXRyeSAmJiBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbgoKICAgICAgaWYgKGxvY2F0aW9uKSB7CiAgICAgICAgdGhpcy5wbGFjZSA9IHBsYWNlCiAgICAgICAgdGhpcy5tYXAucGFuVG8obG9jYXRpb24pCiAgICAgICAgdGhpcy5tYXJrZXIuc2V0UG9zaXRpb24obG9jYXRpb24pCiAgICAgICAgdGhpcy4kcmVmcy5pbmZvLnNob3dBZGRyZXNzKHBsYWNlKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["LocationPicker.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LocationPicker.vue","sourceRoot":"node_modules/vue-location-picker/src","sourcesContent":["<template>\n  <div class=\"LocationPicker\">\n    <div class=\"LocationPicker__map\" v-el:map></div>\n    <input type=\"text\" class=\"LocationPicker__autocomplete\" v-el:input/>\n    <info-window class=\"LocationPicker__info-window\" v-ref:info></info-window>\n  </div>\n</template>\n\n\n<script>\n  import InfoWindow from './InfoWindow.vue'\n\n  export default {\n    props: {\n      place: {\n        type: Object,\n        twoWay: true\n      }\n    },\n\n    data () {\n      return {\n        geocoder: null,\n        map: null,\n        marker: null,\n        infoWindow: null,\n        autocomplete: null\n      }\n    },\n\n    components: { InfoWindow },\n\n    events: {\n      'location-picker-init' (options) {\n        this.geocoder = new google.maps.Geocoder()\n\n        this.map = new google.maps.Map(this.$els.map, Object.assign({\n          center: { lat: 0, lng: 0 },\n          zoom: 3,\n          disableDefaultUI: true\n        }, options.map))\n\n        this.marker = new google.maps.Marker(Object.assign({\n          map: this.map,\n          position: this.map.getCenter(),\n          draggable: true\n        }, options.marker))\n\n        this.infoWindow = new google.maps.InfoWindow(Object.assign({\n          content: this.$refs.info.$el\n        }, options.infoWindow))\n\n        this.autocomplete = new google.maps.places.Autocomplete(this.$els.input, Object.assign({\n          types: ['geocode']\n        }, options.autocomplete))\n        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.$els.input)\n\n        // events\n        google.maps.event.addListenerOnce(this.map, 'idle', this.openInfoWindow)\n        this.marker.addListener('dragstart', this.closeInfoWindow)\n        this.marker.addListener('dragend', this.geocodeLocation)\n        this.autocomplete.addListener('place_changed', this.moveMarker)\n      }\n    },\n\n    methods: {\n      openInfoWindow () {\n        this.infoWindow.open(this.map, this.marker)\n      },\n\n      closeInfoWindow () {\n        this.infoWindow.close()\n      },\n\n      geocodeLocation (e) {\n        this.map.panTo(e.latLng)\n        this.$els.input.value = ''\n\n        this.geocoder.geocode({'latLng': e.latLng}, (response) => {\n          if (response && response.length > 0) {\n            this.place = response[0]\n            this.$refs.info.showAddress(this.place)\n          } else {\n            this.place = null\n            this.$refs.info.showError()\n          }\n\n          this.openInfoWindow()\n        })\n      },\n\n      moveMarker () {\n        var place = this.autocomplete.getPlace()\n        var location = place.geometry && place.geometry.location\n\n        if (location) {\n          this.place = place\n          this.map.panTo(location)\n          this.marker.setPosition(location)\n          this.$refs.info.showAddress(place)\n        }\n      }\n    }\n  }\n</script>\n\n\n<style>\n  .LocationPicker,\n  .LocationPicker__map {\n    height: 100%;\n  }\n\n  .LocationPicker__autocomplete {\n    padding: 7px 14px;\n    margin: 10px;\n    width: 30%;\n    min-width: 300px;\n    font-family: Roboto;\n    font-size: 15px;\n    font-weight: 300;\n    text-overflow: ellipsis;\n    border: 0;\n    border-radius: 2px 0 0 2px;\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\n  }\n\n  .LocationPicker > .LocationPicker__autocomplete,\n  .LocationPicker > .LocationPicker__info-window {\n    display: none;\n  }\n</style>\n"]}]}