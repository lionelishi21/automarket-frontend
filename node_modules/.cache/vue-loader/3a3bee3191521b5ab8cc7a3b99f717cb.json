{"remainingRequest":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lionel/Projects/vue_app/surkeys_website/src/views/Sign/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lionel/Projects/vue_app/surkeys_website/src/views/Sign/user.vue","mtime":1576927293907},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lionel/Projects/vue_app/surkeys_website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAJcmV0dXJuIHsKICAgIAkJdXNlcjogewogICAgCQkJZW1haWw6ICcnLAogICAgCQkJcGFzc3dvcmQ6ICcnLAogICAgCQl9LAogICAgICAgIGlzX3ZhbGlkOiAnJywKICAgICAgICBlcnJvcjogewogICAgICAgICAgbWVzc2FnZTogJycKICAgICAgICB9CiAgICAJfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIC8vIGluaXRpYWxpemF0aW9uIG9mIGZvcm0gdmFsaWRhdGlvbgogICAgICAkLkhTQ29yZS5jb21wb25lbnRzLkhTVmFsaWRhdGlvbi5pbml0KCcuanMtdmFsaWRhdGUnKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGxvZ2luKCB1c2VyKSB7CgogICAgICAgIHRoaXMuaXNfdmFsaWQgPSAnJwogICAgICAgIHRoaXMuZXJyb3IubWVzc2FnZSA9ICcnCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIHVzZXIpCiAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0dGluZyB1c2VyLi4nKQogICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEN1cnJlbnRVc2VyJykKICAgICAgICAgICAgICAgLnRoZW4oIHJlc3AgPT4gewogICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgICAgICAgICAgICAgfSkuY2F0Y2goIGVyciA9PiB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goIGVycm9yID0+IHsKICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgICAgdGhpcy5pc192YWxpZCA9ICdpcy1pbnZhbGlkJwogICAgICAgICAgICAgdGhpcy5lcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YQogICAgICAgICAgfSkKICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/views/Sign","sourcesContent":["<template>\n\n  <!-- ========== MAIN ========== -->\n    <!-- Login Form -->\n    <div class=\"container space-2\">\n      <form class=\"js-validate w-md-75 w-lg-50 mx-md-auto\" @submit.prevent=\"login(user)\">\n        <!-- Title -->\n        <div class=\"mb-7\">\n          <h2 class=\"h3 text-primary font-weight-normal mb-0\">Welcome <span class=\"font-weight-semi-bold\">back</span></h2>\n          <p>Login to manage your account.</p>\n        </div>\n        <!-- End Title -->\n\n        <!-- Form Group -->\n         <div class=\"js-form-message form-group\">\n          <input \n                 type=\"email\" \n                 :class=\"is_valid\"\n                 class=\"form-control\"\n                 v-model=\"user.email\" name=\"email\" id=\"signinSrEmailExample1\" placeholder=\"Email address\" aria-label=\"Email address\" \n                 data-msg=\"Please enter a valid email address.\"\n                 data-error-class=\"u-has-error\"\n                 data-success-class=\"u-has-success\" required>\n              \n                 <div class=\"invalid-feedback\">\n                    {{error.message}}\n                 </div>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Form Group -->\n        <div class=\"js-form-message form-group\">\n          <label class=\"form-label\" for=\"signinSrPassword\">\n            <span class=\"d-flex justify-content-between align-items-center\">\n              Password\n              <a class=\"link-muted text-capitalize font-weight-normal\" href=\"recover-account-simple.html\">Forgot Password?</a>\n            </span>\n          </label>\n          <input type=\"password\" :class=\"is_valid\" class=\"form-control\" name=\"password\" id=\"signinSrPassword\" placeholder=\"********\" aria-label=\"********\" \n                 data-msg=\"Your password is invalid. Please try again.\"\n                 data-error-class=\"u-has-error\"\n                 v-model=\"user.password\"\n                 data-success-class=\"u-has-success\" required>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Button -->\n        <div class=\"row align-items-center mb-5\">\n          <div class=\"col-6\">\n            <span class=\"small text-muted\">Don't have an account?</span>\n               <router-link to=\"/register\" tag=\"a\">signup</router-link>\n          </div>\n\n          <div class=\"col-6 text-right\">\n            <button type=\"submit\" class=\"btn btn-primary transition-3d-hover\">Login</button>\n          </div>\n        </div>\n        <!-- End Button -->\n      </form>\n    </div>\n    <!-- End Login Form -->\n</template>\n<script>\nexport default {\n    data() {\n    \treturn {\n    \t\tuser: {\n    \t\t\temail: '',\n    \t\t\tpassword: '',\n    \t\t},\n        is_valid: '',\n        error: {\n          message: ''\n        }\n    \t}\n    },\n    mounted() {\n      // initialization of form validation\n      $.HSCore.components.HSValidation.init('.js-validate');\n    },\n    methods: {\n      login( user) {\n\n        this.is_valid = ''\n        this.error.message = ''\n\n        this.$store.dispatch('login', user)\n          .then( response => {\n            console.log('getting user..')\n             this.$store.dispatch('getCurrentUser')\n               .then( resp => {\n                 this.$router.push('/')\n               }).catch( err => {\n                \n               })\n          })\n          .catch( error => {\n             let errorMessage = error.response.data.message\n             console.log(error.response)\n             this.is_valid = 'is-invalid'\n             this.error.message = error.response.data\n          })\n      }\n    }\n}\n</script>"]}]}