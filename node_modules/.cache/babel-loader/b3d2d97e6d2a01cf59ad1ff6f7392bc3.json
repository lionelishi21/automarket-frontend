{"remainingRequest":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/thread-loader/dist/cjs.js!/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js!/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js","dependencies":[{"path":"/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js","mtime":1588278210477},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/thread-loader/dist/cjs.js","mtime":1583532518856},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js","mtime":1583532513681}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpIGZyb20gIi4uLy4uL2FwaS9zZXJ2aWNlcy91c2VyLXNlcnZpY2VzLmpzIjsKdmFyIHN0YXRlID0gewogIHRva2VuczogewogICAgYWNjZXNzX3Rva2VuOiBudWxsLAogICAgZXhwaXJlc19pbjogbnVsbCwKICAgIHJlZnJlc2hfdG9rZW46IG51bGwsCiAgICB0b2tlbl90eXBlOiBudWxsCiAgfSwKICBwcm9maWxlOiB7fSwKICBjdXJyZW50VXNlcjogbnVsbCwKICBsaW5rOiAnJywKICByZWZlcmVlczoge30sCiAgcG9pbnRzOiAwCn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihjb250ZXh0LCB1c2VyKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9OwogICAgICBhcGkubG9naW5Vc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgcmVzcG9uc2VEYXRhLmV4cGlyZXNfaW4gPSByZXNwb25zZURhdGEuZXhwaXJlc19pbiArIG5vdzsKICAgICAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlVG9rZW5zJywgcmVzcG9uc2VEYXRhLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgcmVzcG9uc2VEYXRhLnRva2VuKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZ2V0Q3VycmVudFVzZXI6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKGNvbnRleHQpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaS5mZXRjaEN1cnJlbnRVc2VyKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlQ3VycmVudFVzZXInLCByZXNwb25zZURhdGEpOwogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgQVVUSF9SRUdJU1RFUjogZnVuY3Rpb24gQVVUSF9SRUdJU1RFUihjb250ZXh0LCB1c2VyKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkucmVnaXN0ZXJVc2VyKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgcmVzcG9uc2VEYXRhLmV4cGlyZXNfaW4gPSByZXNwb25zZURhdGEuZXhwaXJlc19pbiArIG5vdzsKICAgICAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlVG9rZW5zJywgcmVzcG9uc2VEYXRhLnRva2VuKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgQVVUSF9MT0dPVVQ6IGZ1bmN0aW9uIEFVVEhfTE9HT1VUKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkubG9nb3V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgIHZhciB1c2VyID0ge307CiAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnZ2V0Q3VycmVudFVzZXInKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIEdFVF9VU0VSX1BST0ZJTEU6IGZ1bmN0aW9uIEdFVF9VU0VSX1BST0ZJTEUoX3JlZjIsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhcGkuZmV0Y2hVc2VyUHJvZmlsZSgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9QUk9GSUxFJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgRkVUQ0hfQklUTFlfTElOSzogZnVuY3Rpb24gRkVUQ0hfQklUTFlfTElOSyhfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGFwaS5mZXRjaEJpdGx5TGluaygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICBjb21taXQoJ1NFVF9CSVRMWV9MSU5LJywgcmVzcG9uc2UuZGF0YS5iaXRseV9saW5rKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICB9KTsKICB9LAogIEZFVENIX1JFRkVSRUVTOiBmdW5jdGlvbiBGRVRDSF9SRUZFUkVFUyhfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIGFwaS5mZXRjaFJlZnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICBjb21taXQoJ1NFVF9SRUZFUkVFJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICB9KTsKICB9LAogIEZFVENIX1JFRl9QT0lOVFM6IGZ1bmN0aW9uIEZFVENIX1JFRl9QT0lOVFMoX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICBhcGkuZmV0Y2hSZWZlcnJhbFBvaW50cygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgY29tbWl0KCdTRVRfUkVGRVJSQUxfUE9JTlRTJywgcmVzcG9uc2UuZGF0YSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgIH0pOwogIH0sCiAgVkVSSUZZX1VTRVI6IGZ1bmN0aW9uIFZFUklGWV9VU0VSKF9yZWY2KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgYXBpLnZlcmlmeUFjb3VudCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgIH0pOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVUb2tlbnM6IGZ1bmN0aW9uIHVwZGF0ZVRva2VucyhzdGF0ZSwgdG9rZW5zKSB7CiAgICBzdGF0ZS50b2tlbnMgPSB0b2tlbnM7CiAgfSwKICB1cGRhdGVDdXJyZW50VXNlcjogZnVuY3Rpb24gdXBkYXRlQ3VycmVudFVzZXIoc3RhdGUsIGN1cnJlbnRVc2VyKSB7CiAgICBzdGF0ZS5jdXJyZW50VXNlciA9IGN1cnJlbnRVc2VyOwogIH0sCiAgU0VUX1VTRVJfUFJPRklMRTogZnVuY3Rpb24gU0VUX1VTRVJfUFJPRklMRShzdGF0ZSwgcHJvZmlsZSkgewogICAgc3RhdGUucHJvZmlsZSA9IHByb2ZpbGU7CiAgfSwKICBTRVRfQklUTFlfTElOSzogZnVuY3Rpb24gU0VUX0JJVExZX0xJTksoc3RhdGUsIGxpbikgewogICAgc3RhdGUubGluayA9IGxpbjsKICB9LAogIFNFVF9SRUZFUkVFOiBmdW5jdGlvbiBTRVRfUkVGRVJFRShzdGF0ZSwgcmVmKSB7CiAgICBzdGF0ZS5yZWZlcmVlcyA9IHJlZjsKICB9LAogIFNFVF9SRUZFUlJBTF9QT0lOVFM6IGZ1bmN0aW9uIFNFVF9SRUZFUlJBTF9QT0lOVFMoc3RhdGUsIHBvaW50cykgewogICAgc3RhdGUucG9pbnRzID0gcG9pbnRzOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7CiAgZ2V0QWNjZXNzVG9rZW46IGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudG9rZW5zLmFjY2Vzc190b2tlbjsKICB9LAogIEdldFVzZXJQcm9maWxlOiBmdW5jdGlvbiBHZXRVc2VyUHJvZmlsZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb2ZpbGU7CiAgfSwKICBnZXRDdXJyZW50VXNlcjogZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VXNlcjsKICB9LAogIGdldExpbms6IGZ1bmN0aW9uIGdldExpbmsoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5saW5rOwogIH0sCiAgZ2V0UmVmZXJlZXM6IGZ1bmN0aW9uIGdldFJlZmVyZWVzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucmVmZXJlZXM7CiAgfSwKICBnZXRSZWZQb2ludHM6IGZ1bmN0aW9uIGdldFJlZlBvaW50cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnBvaW50czsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js"],"names":["axios","api","state","tokens","access_token","expires_in","refresh_token","token_type","profile","currentUser","link","referees","points","actions","login","context","user","Promise","resolve","reject","data","email","password","loginUser","then","response","responseData","now","Date","commit","token","localStorage","setItem","catch","err","getCurrentUser","getItem","defaults","headers","common","fetchCurrentUser","console","log","message","AUTH_REGISTER","registerUser","AUTH_LOGOUT","dispatch","logoutUser","removeItem","error","GET_USER_PROFILE","payload","fetchUserProfile","FETCH_BITLY_LINK","fetchBitlyLink","bitly_link","FETCH_REFEREES","fetchRefs","FETCH_REF_POINTS","fetchReferralPoints","VERIFY_USER","verifyAcount","mutations","updateTokens","updateCurrentUser","SET_USER_PROFILE","SET_BITLY_LINK","lin","SET_REFEREE","ref","SET_REFERRAL_POINTS","getters","getAccessToken","GetUserProfile","getLink","getReferees","getRefPoints"],"mappings":"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","sourcesContent":["\nimport axios from \"axios\";\nimport api from '../../api/services/user-services.js'\n\nconst state = {\n  tokens: {\n    access_token: null,\n    expires_in: null,\n    refresh_token: null,\n    token_type: null\n  },\n  profile: {},\n  currentUser: null,\n  link: '',\n  referees: {},\n  points: 0\n}\n\nconst actions = {\n  login( context, user) {\n     return new Promise((resolve, reject) => {\n\n        let data = {\n          email: user.email,\n          password: user.password,\n        };\n\n         api.loginUser(data).then(response => {\n            let responseData = response.data\n            let now = Date.now()\n\n            responseData.expires_in = responseData.expires_in + now\n            context.commit('updateTokens', responseData.token)\n            localStorage.setItem('access_token', responseData.token )\n\n            resolve(response)\n          }).catch( err => { reject(err)})\n     })\n  },\n  getCurrentUser(context) {\n    \n     let token = localStorage.getItem('access_token')\n     axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n    \n    return new Promise((resolve, reject) => {\n     \n      api.fetchCurrentUser()\n        .then (response => {\n          let responseData = response.data\n          context.commit('updateCurrentUser', responseData)\n          resolve(response)\n        }).catch( err => { \n          console.log(err.message)\n          reject(err)\n        })\n    })\n\n  },\n  AUTH_REGISTER(context, user) {\n\n    return new Promise((resolve, reject) => {\n      \n       api.registerUser(user).then(response => {\n        \n          let responseData = response.data\n          let now = Date.now()\n\n          responseData.expires_in = responseData.expires_in + now\n          context.commit('updateTokens', responseData.token)\n\n          resolve(response)\n        }).catch( err => { reject(err)})\n     })\n  },\n  AUTH_LOGOUT({commit, dispatch}){\n     \n    let token = localStorage.getItem('access_token')\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n    return new Promise(( resolve, reject) => {\n        \n        api.logoutUser().then( response => {\n \n             localStorage.removeItem('access_token')\n             let user = {}\n             context.dispatch('getCurrentUser')\n             \n            resolve(response)\n        }).catch( error => {\n            reject(error)\n        })\n    });\n  \n   },\n  GET_USER_PROFILE({commit}, payload) {\n\n     let token = localStorage.getItem('access_token')\n     axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n     return new Promise((resolve, reject) => {\n\n      api.fetchUserProfile().then( response => {\n          \n           commit('SET_USER_PROFILE', response.data)\n           resolve(response)\n       \n        }).catch( error => {\n          console.log(error.response)\n          reject(error)\n        })\n    })\n  },\n  FETCH_BITLY_LINK({commit}) {\n\n   api.fetchBitlyLink() \n    .then( response => {\n      console.log(response.data)\n      commit('SET_BITLY_LINK', response.data.bitly_link)\n    }) \n    .catch( error => {\n       console.log(error.response)\n    })\n  },\n\n  FETCH_REFEREES({commit}) {\n    api.fetchRefs()\n      .then( response => {\n          console.log(response.data.user)\n          commit('SET_REFEREE', response.data.user)\n      }) \n      .catch( error => {\n        console.log(error.response)\n      })\n  },\n\n  FETCH_REF_POINTS( {commit} ) {\n\n      api.fetchReferralPoints()\n        .then( response => {\n          console.log(response)\n          commit('SET_REFERRAL_POINTS', response.data)\n        })\n        .then( error => {\n           console.log(error)\n           console.log(error.response)\n        })\n  },\n\n  VERIFY_USER( {commit }) {\n\n    api.verifyAcount()\n      .then( response => {\n        console.log(response)\n      })\n      .catch( error => {\n        console.log(error)\n        console.log(error.response)\n      })\n  }\n\n}\n\n\nconst mutations = {\n\n    updateTokens(state, tokens) {\n      state.tokens = tokens\n    },\n\n    updateCurrentUser(state, currentUser) {\n      state.currentUser = currentUser\n    },\n\n    SET_USER_PROFILE(state, profile) {\n      state.profile = profile\n    },\n\n    SET_BITLY_LINK(state, lin) {\n      state.link = lin\n    },\n\n    SET_REFEREE(state, ref) {\n      state.referees = ref\n    },\n\n    SET_REFERRAL_POINTS(state, points) {\n      state.points = points\n    }\n}\n\nconst getters = {\n\n    getAccessToken(state) {\n      return state.tokens.access_token\n    },\n\n    GetUserProfile(state) {\n      return state.profile\n    },\n\n    getCurrentUser(state) {\n      return state.currentUser\n    },\n\n    getLink(state) {\n      return state.link\n    },\n\n    getReferees(state) {\n      return state.referees\n    },\n\n    getRefPoints(state) {\n      return state.points\n    }\n\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}"]}]}