{"remainingRequest":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/thread-loader/dist/cjs.js!/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js!/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lionelfrancis/development/frontend/carmarket/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lionelfrancis/development/frontend/carmarket/src/views/Sign/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lionelfrancis/development/frontend/carmarket/src/views/Sign/user.vue","mtime":1586710327150},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/thread-loader/dist/cjs.js","mtime":1583532518856},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js","mtime":1583532513681},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgUGx1Z2lucyB9IGZyb20gIkBjYXBhY2l0b3IvY29yZSI7CnZhciBQdXNoTm90aWZpY2F0aW9ucyA9IFBsdWdpbnMuUHVzaE5vdGlmaWNhdGlvbnM7IC8vCi8vIHdpdGggdHlwZSBzdXBwb3J0CgppbXBvcnQgeyBGQ00gfSBmcm9tICJjYXBhY2l0b3ItZmNtIjsKdmFyIGZjbSA9IG5ldyBGQ00oKTsgLy8KLy8gYWx0ZXJuYXRpdmVseSAtIHdpdGhvdXQgdHlwZXMKCnZhciBGQ01QbHVnaW4gPSBQbHVnaW5zLkZDTVBsdWdpbjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBmY21Ub2tlbjogJycKICAgICAgfSwKICAgICAgc3VjY2Vzc01zZzogZmFsc2UsCiAgICAgIHZhbGlkYXRpb25FcnI6ICcnLAogICAgICBpc192YWxpZDogJycsCiAgICAgIGVycm9yOiB7CiAgICAgICAgbWVzc2FnZTogJycKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnN1Y2Nlc3NNc2cgPSBmYWxzZTsKCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucmVnaXN0ZXJlZCAhPSB1bmRlZmluZWQpIHsKICAgICAgYWxlcnQoJ3RoYW5rcyBmb3Igc2lnbmluZ3VwJyk7CiAgICAgIHRoaXMuc3VjY2Vzc01zZyA9IHRydWU7CiAgICB9IC8vIHRoaXMuZ2V0VXNlclRva2VuKCkKCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gaW5pdGlhbGl6YXRpb24gb2YgZm9ybSB2YWxpZGF0aW9uCiAgICAkLkhTQ29yZS5jb21wb25lbnRzLkhTVmFsaWRhdGlvbi5pbml0KCcuanMtdmFsaWRhdGUnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbih1c2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzX3ZhbGlkID0gJyc7CiAgICAgIHRoaXMuZXJyb3IubWVzc2FnZSA9ICcnOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBjb25zb2xlLmxvZygnZ2V0dGluZyB1c2VyLi4nKTsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRDdXJyZW50VXNlcicpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgIF90aGlzLmlzX3ZhbGlkID0gJ2lzLWludmFsaWQnOwogICAgICAgIF90aGlzLmVycm9yLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyVG9rZW46IGZ1bmN0aW9uIGdldFVzZXJUb2tlbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBQdXNoTm90aWZpY2F0aW9ucy5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGZjbS5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIGFsZXJ0KCJUb2tlbiAiLmNvbmNhdChyLnRva2VuKSk7CiAgICAgICAgICBfdGhpczIudXNlci5mY21Ub2tlbiA9IHIudG9rZW47CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA,SAAA,OAAA,QAAA,iBAAA;IACA,iB,GAAA,O,CAAA,iB;AAGA;;AACA,SAAA,GAAA,QAAA,eAAA;AACA,IAAA,GAAA,GAAA,IAAA,GAAA,EAAA,C;AAGA;;IACA,S,GAAA,O,CAAA,S;AAGA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,UAAA,EAAA,KANA;AAOA,MAAA,aAAA,EAAA,EAPA;AAQA,MAAA,QAAA,EAAA,EARA;AASA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA;AATA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,UAAA,GAAA,KAAA;;AACA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,IAAA,SAAA,EAAA;AACA,MAAA,KAAA,CAAA,sBAAA,CAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KALA,CAOA;;AACA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA;AACA,IAAA,CAAA,CAAA,MAAA,CAAA,UAAA,CAAA,YAAA,CAAA,IAAA,CAAA,cAAA;AACA,GA5BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,IADA,EACA;AAAA;;AAEA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AAEA,WAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;;AAEA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,SAHA,EAGA,KAHA,CAGA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA;AACA,SALA;AAOA,OAbA,EAcA,KAdA,CAcA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,YAAA,YAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,OAnBA;AAoBA,KA1BA;AA2BA,IAAA,YA3BA,0BA2BA;AAAA;;AACA,MAAA,iBAAA,CAAA,QAAA,GACA,IADA,CACA,YAAA;AAEA,QAAA,GAAA,CACA,QADA,GAEA,IAFA,CAEA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,iBAAA,CAAA,CAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,QAAA,GAAA,CAAA,CAAA,KAAA;AACA,SALA,EAMA,KANA,CAMA,UAAA,GAAA;AAAA,iBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AAAA,SANA;AAOA,OAVA;AAWA;AAvCA;AA7BA,CAAA","sourcesContent":["<template>\n\n  <!-- ========== MAIN ========== -->\n    <!-- Login Form -->\n    <div class=\"container space-2\">\n      <form class=\"js-validate w-md-75 w-lg-50 mx-md-auto\" @submit.prevent=\"login(user)\">\n        <!-- Title -->\n        <div class=\"mb-7\">\n          <h2 class=\"h3 text-primary font-weight-normal mb-0\">Welcome <span class=\"font-weight-semi-bold\">back</span></h2>\n          <p>Login to manage your account.</p>\n        </div>\n        <!-- End Title -->\n\n        <div class=\"alert alert-success\" role=\"alert\" v-show=\"successMsg\">\n          <h4 class=\"alert-heading\">Well done!</h4>\n          <p class=\"alert-text\">Thank you for registering.</p>\n          <hr />\n          <p class=\"alert-text mb-0\">Check your email for verification code.</p>\n        </div>\n        <!-- Form Group -->\n         <div class=\"js-form-message form-group\">\n          <input \n                 type=\"email\" \n                 :class=\"is_valid\"\n                 class=\"form-control\"\n                 v-model=\"user.email\" name=\"email\" id=\"signinSrEmailExample1\" placeholder=\"Email address\" aria-label=\"Email address\" \n                 data-msg=\"Please enter a valid email address.\"\n                 data-error-class=\"u-has-error\"\n                 data-success-class=\"u-has-success\" required>\n              \n                 <div class=\"invalid-feedback\">\n                    {{error.message}}\n                 </div>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Form Group -->\n        <div class=\"js-form-message form-group\">\n          <label class=\"form-label\" for=\"signinSrPassword\">\n            <span class=\"d-flex justify-content-between align-items-center\">\n              Password\n              <a class=\"link-muted text-capitalize font-weight-normal\" href=\"recover-account-simple.html\">Forgot Password?</a>\n            </span>\n          </label>\n          <input type=\"password\" :class=\"is_valid\" class=\"form-control\" name=\"password\" id=\"signinSrPassword\" placeholder=\"********\" aria-label=\"********\" \n                 data-msg=\"Your password is invalid. Please try again.\"\n                 data-error-class=\"u-has-error\"\n                 v-model=\"user.password\"\n                 data-success-class=\"u-has-success\" required>\n        </div>\n        <!-- End Form Group -->\n\n        <!-- Button -->\n        <div class=\"row align-items-center mb-5\">\n          <div class=\"col-6\">\n            <span class=\"small text-muted\">Don't have an account?</span>\n               <router-link to=\"/user-onboarding\" tag=\"a\">signup</router-link>\n          </div>\n\n          <div class=\"col-6 text-right\">\n            <button type=\"submit\" class=\"btn btn-primary transition-3d-hover\">Login</button>\n          </div>\n        </div>\n        <!-- End Button -->\n      </form>\n    </div>\n    <!-- End Login Form -->\n</template>\n<script>\nimport { Plugins } from \"@capacitor/core\";\nconst { PushNotifications } = Plugins;\n \n//\n// with type support\nimport { FCM } from \"capacitor-fcm\";\nconst fcm = new FCM();\n \n//\n// alternatively - without types\nconst { FCMPlugin } = Plugins;\n \n\nexport default {\n    data() {\n    \treturn {\n    \t\tuser: {\n    \t\t\temail: '',\n    \t\t\tpassword: '',\n          fcmToken: '',\n    \t\t},\n        successMsg: false,\n        validationErr: '',\n        is_valid: '',\n        error: {\n          message: ''\n        }\n    \t}\n    },\n    created() {\n       this.successMsg = false\n      if (this.$route.query.registered != undefined ) {\n        alert('thanks for signingup')\n        this.successMsg = true\n      }\n\n      // this.getUserToken()\n    },\n    mounted() {\n      // initialization of form validation\n      $.HSCore.components.HSValidation.init('.js-validate');\n    },\n    methods: {\n      login( user) {\n\n        this.is_valid = ''\n        this.error.message = ''\n\n        this.$store.dispatch('login', user)\n          .then( response => {\n           \n            console.log(response)\n            console.log('getting user..')\n             \n             this.$store.dispatch('getCurrentUser')\n               .then( resp => {\n                 this.$router.push('/')\n               }).catch( err => {\n                  console.log( err.response)\n               })\n               \n          })\n          .catch( error => {\n             console.log(error.response)\n             let errorMessage = error.response.data.message\n             this.is_valid = 'is-invalid'\n             this.error.message = error.response.data\n          })\n      },\n      getUserToken() {\n         PushNotifications.register()\n          .then(() => {\n\n            fcm\n               .getToken()\n               .then(r => {\n                  alert(`Token ${r.token}`)\n                  this.user.fcmToken = r.token\n               })\n               .catch( err => console.log(err));\n         })\n      },\n\n    }\n}\n</script>"],"sourceRoot":"src/views/Sign"}]}