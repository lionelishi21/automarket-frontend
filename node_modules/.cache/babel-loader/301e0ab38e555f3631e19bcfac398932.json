{"remainingRequest":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js!/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js","dependencies":[{"path":"/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js","mtime":1591557464002},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/cache-loader/dist/cjs.js","mtime":1583532514267},{"path":"/Users/lionelfrancis/development/frontend/carmarket/node_modules/babel-loader/lib/index.js","mtime":1583532513681}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpIGZyb20gIi4uLy4uL2FwaS9zZXJ2aWNlcy91c2VyLXNlcnZpY2VzLmpzIjsKdmFyIHN0YXRlID0gewogIHRva2VuczogewogICAgYWNjZXNzX3Rva2VuOiBudWxsLAogICAgZXhwaXJlc19pbjogbnVsbCwKICAgIHJlZnJlc2hfdG9rZW46IG51bGwsCiAgICB0b2tlbl90eXBlOiBudWxsCiAgfSwKICBwcm9maWxlOiB7fSwKICBjdXJyZW50VXNlcjogbnVsbCwKICBsaW5rOiAnJywKICByZWZlcmVlczoge30sCiAgcG9pbnRzOiAwCn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihjb250ZXh0LCB1c2VyKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9OwogICAgICBhcGkubG9naW5Vc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgcmVzcG9uc2VEYXRhLmV4cGlyZXNfaW4gPSByZXNwb25zZURhdGEuZXhwaXJlc19pbiArIG5vdzsKICAgICAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlVG9rZW5zJywgcmVzcG9uc2VEYXRhLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgcmVzcG9uc2VEYXRhLnRva2VuKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZ2V0Q3VycmVudFVzZXI6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKGNvbnRleHQpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaS5mZXRjaEN1cnJlbnRVc2VyKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3VwZGF0ZUN1cnJlbnRVc2VyJywgcmVzcG9uc2VEYXRhKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7CiAgICAgICAgcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBBVVRIX1JFR0lTVEVSOiBmdW5jdGlvbiBBVVRIX1JFR0lTVEVSKGNvbnRleHQsIHVzZXIpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaS5yZWdpc3RlclVzZXIodXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICByZXNwb25zZURhdGEuZXhwaXJlc19pbiA9IHJlc3BvbnNlRGF0YS5leHBpcmVzX2luICsgbm93OwogICAgICAgIGNvbnRleHQuY29tbWl0KCd1cGRhdGVUb2tlbnMnLCByZXNwb25zZURhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBBVVRIX0xPR09VVDogZnVuY3Rpb24gQVVUSF9MT0dPVVQoX3JlZikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaS5sb2dvdXRVc2VyKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICAgICAgdmFyIHVzZXIgPSB7fTsKICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCdnZXRDdXJyZW50VXNlcicpOwogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgR0VUX1VTRVJfUFJPRklMRTogZnVuY3Rpb24gR0VUX1VTRVJfUFJPRklMRShfcmVmMiwgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGFwaS5mZXRjaFVzZXJQcm9maWxlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSX1BST0ZJTEUnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBGRVRDSF9CSVRMWV9MSU5LOiBmdW5jdGlvbiBGRVRDSF9CSVRMWV9MSU5LKF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgYXBpLmZldGNoQml0bHlMaW5rKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIGNvbW1pdCgnU0VUX0JJVExZX0xJTksnLCByZXNwb25zZS5kYXRhLmJpdGx5X2xpbmspOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgIH0pOwogIH0sCiAgRkVUQ0hfUkVGRVJFRVM6IGZ1bmN0aW9uIEZFVENIX1JFRkVSRUVTKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgYXBpLmZldGNoUmVmcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIGNvbW1pdCgnU0VUX1JFRkVSRUUnLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgIH0pOwogIH0sCiAgRkVUQ0hfUkVGX1BPSU5UUzogZnVuY3Rpb24gRkVUQ0hfUkVGX1BPSU5UUyhfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIGFwaS5mZXRjaFJlZmVycmFsUG9pbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICBjb21taXQoJ1NFVF9SRUZFUlJBTF9QT0lOVFMnLCByZXNwb25zZS5kYXRhKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgfSk7CiAgfSwKICBWRVJJRllfVVNFUjogZnVuY3Rpb24gVkVSSUZZX1VTRVIoX3JlZjYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICBhcGkudmVyaWZ5QWNvdW50KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgfSk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZVRva2VuczogZnVuY3Rpb24gdXBkYXRlVG9rZW5zKHN0YXRlLCB0b2tlbnMpIHsKICAgIHN0YXRlLnRva2VucyA9IHRva2VuczsKICB9LAogIHVwZGF0ZUN1cnJlbnRVc2VyOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VXNlcihzdGF0ZSwgY3VycmVudFVzZXIpIHsKICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gY3VycmVudFVzZXI7CiAgfSwKICBTRVRfVVNFUl9QUk9GSUxFOiBmdW5jdGlvbiBTRVRfVVNFUl9QUk9GSUxFKHN0YXRlLCBwcm9maWxlKSB7CiAgICBzdGF0ZS5wcm9maWxlID0gcHJvZmlsZTsKICB9LAogIFNFVF9CSVRMWV9MSU5LOiBmdW5jdGlvbiBTRVRfQklUTFlfTElOSyhzdGF0ZSwgbGluKSB7CiAgICBzdGF0ZS5saW5rID0gbGluOwogIH0sCiAgU0VUX1JFRkVSRUU6IGZ1bmN0aW9uIFNFVF9SRUZFUkVFKHN0YXRlLCByZWYpIHsKICAgIHN0YXRlLnJlZmVyZWVzID0gcmVmOwogIH0sCiAgU0VUX1JFRkVSUkFMX1BPSU5UUzogZnVuY3Rpb24gU0VUX1JFRkVSUkFMX1BPSU5UUyhzdGF0ZSwgcG9pbnRzKSB7CiAgICBzdGF0ZS5wb2ludHMgPSBwb2ludHM7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRBY2Nlc3NUb2tlbjogZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50b2tlbnMuYWNjZXNzX3Rva2VuOwogIH0sCiAgR2V0VXNlclByb2ZpbGU6IGZ1bmN0aW9uIEdldFVzZXJQcm9maWxlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZTsKICB9LAogIGdldEN1cnJlbnRVc2VyOiBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRVc2VyOwogIH0sCiAgZ2V0TGluazogZnVuY3Rpb24gZ2V0TGluayhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmxpbms7CiAgfSwKICBnZXRSZWZlcmVlczogZnVuY3Rpb24gZ2V0UmVmZXJlZXMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5yZWZlcmVlczsKICB9LAogIGdldFJlZlBvaW50czogZnVuY3Rpb24gZ2V0UmVmUG9pbnRzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucG9pbnRzOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/lionelfrancis/development/frontend/carmarket/src/store/modules/user.js"],"names":["axios","api","state","tokens","access_token","expires_in","refresh_token","token_type","profile","currentUser","link","referees","points","actions","login","context","user","Promise","resolve","reject","data","email","password","loginUser","then","response","responseData","now","Date","commit","token","localStorage","setItem","catch","err","getCurrentUser","getItem","defaults","headers","common","fetchCurrentUser","console","log","AUTH_REGISTER","registerUser","AUTH_LOGOUT","dispatch","logoutUser","removeItem","error","GET_USER_PROFILE","payload","fetchUserProfile","FETCH_BITLY_LINK","fetchBitlyLink","bitly_link","FETCH_REFEREES","fetchRefs","FETCH_REF_POINTS","fetchReferralPoints","VERIFY_USER","verifyAcount","mutations","updateTokens","updateCurrentUser","SET_USER_PROFILE","SET_BITLY_LINK","lin","SET_REFEREE","ref","SET_REFERRAL_POINTS","getters","getAccessToken","GetUserProfile","getLink","getReferees","getRefPoints"],"mappings":"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","sourcesContent":["\nimport axios from \"axios\";\nimport api from '../../api/services/user-services.js'\n\nconst state = {\n  tokens: {\n    access_token: null,\n    expires_in: null,\n    refresh_token: null,\n    token_type: null\n  },\n  profile: {},\n  currentUser: null,\n  link: '',\n  referees: {},\n  points: 0\n}\n\nconst actions = {\n  login( context, user) {\n     return new Promise((resolve, reject) => {\n\n        let data = {\n          email: user.email,\n          password: user.password,\n        };\n\n         api.loginUser(data).then(response => {\n            let responseData = response.data\n            let now = Date.now()\n\n            responseData.expires_in = responseData.expires_in + now\n            context.commit('updateTokens', responseData.token)\n            localStorage.setItem('access_token', responseData.token )\n\n            resolve(response)\n          }).catch( err => { reject(err)})\n     })\n  },\n  getCurrentUser(context) {\n    \n     let token = localStorage.getItem('access_token')\n     axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n    \n    return new Promise((resolve, reject) => {\n     \n      api.fetchCurrentUser()\n        .then (response => {\n          console.log(response)\n          let responseData = response.data\n          context.commit('updateCurrentUser', responseData)\n          resolve(response)\n        }).catch( err => { \n          console.log(err.response)\n          reject(err)\n        })\n    })\n\n  },\n  AUTH_REGISTER(context, user) {\n\n    return new Promise((resolve, reject) => {\n      \n       api.registerUser(user).then(response => {\n        \n          let responseData = response.data\n          let now = Date.now()\n\n          responseData.expires_in = responseData.expires_in + now\n          context.commit('updateTokens', responseData.token)\n\n          resolve(response)\n        }).catch( err => { reject(err)})\n     })\n  },\n  AUTH_LOGOUT({commit, dispatch}){\n     \n    let token = localStorage.getItem('access_token')\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n    return new Promise(( resolve, reject) => {\n        \n        api.logoutUser().then( response => {\n \n             localStorage.removeItem('access_token')\n             let user = {}\n             context.dispatch('getCurrentUser')\n             \n            resolve(response)\n        }).catch( error => {\n            reject(error)\n        })\n    });\n  \n   },\n  GET_USER_PROFILE({commit}, payload) {\n\n     let token = localStorage.getItem('access_token')\n     axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n\n     return new Promise((resolve, reject) => {\n\n      api.fetchUserProfile().then( response => {\n          \n           commit('SET_USER_PROFILE', response.data)\n           resolve(response)\n       \n        }).catch( error => {\n          console.log(error.response)\n          reject(error)\n        })\n    })\n  },\n  FETCH_BITLY_LINK({commit}) {\n\n   api.fetchBitlyLink() \n    .then( response => {\n      console.log(response.data)\n      commit('SET_BITLY_LINK', response.data.bitly_link)\n    }) \n    .catch( error => {\n       console.log(error.response)\n    })\n  },\n\n  FETCH_REFEREES({commit}) {\n    api.fetchRefs()\n      .then( response => {\n          console.log(response.data.user)\n          commit('SET_REFEREE', response.data.user)\n      }) \n      .catch( error => {\n        console.log(error.response)\n      })\n  },\n\n  FETCH_REF_POINTS( {commit} ) {\n\n      api.fetchReferralPoints()\n        .then( response => {\n          console.log(response)\n          commit('SET_REFERRAL_POINTS', response.data)\n        })\n        .then( error => {\n           console.log(error)\n           console.log(error.response)\n        })\n  },\n\n  VERIFY_USER( {commit }) {\n\n    api.verifyAcount()\n      .then( response => {\n        console.log(response)\n      })\n      .catch( error => {\n        console.log(error)\n        console.log(error.response)\n      })\n  }\n\n}\n\n\nconst mutations = {\n\n    updateTokens(state, tokens) {\n      state.tokens = tokens\n    },\n\n    updateCurrentUser(state, currentUser) {\n      state.currentUser = currentUser\n    },\n\n    SET_USER_PROFILE(state, profile) {\n      state.profile = profile\n    },\n\n    SET_BITLY_LINK(state, lin) {\n      state.link = lin\n    },\n\n    SET_REFEREE(state, ref) {\n      state.referees = ref\n    },\n\n    SET_REFERRAL_POINTS(state, points) {\n      state.points = points\n    }\n}\n\nconst getters = {\n\n    getAccessToken(state) {\n      return state.tokens.access_token\n    },\n\n    GetUserProfile(state) {\n      return state.profile\n    },\n\n    getCurrentUser(state) {\n      return state.currentUser\n    },\n\n    getLink(state) {\n      return state.link\n    },\n\n    getReferees(state) {\n      return state.referees\n    },\n\n    getRefPoints(state) {\n      return state.points\n    }\n\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}"]}]}